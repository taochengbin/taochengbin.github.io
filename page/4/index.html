<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Ruby - Ruby</title><meta name="author" content="陶成彬"><meta name="copyright" content="陶成彬"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="兴趣是最好的老师">
<meta property="og:type" content="website">
<meta property="og:title" content="Ruby">
<meta property="og:url" content="http://example.com/page/4/index.html">
<meta property="og:site_name" content="Ruby">
<meta property="og:description" content="兴趣是最好的老师">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/null">
<meta property="article:author" content="陶成彬">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/null"><link rel="shortcut icon" href="/img/wall/4.jpg"><link rel="canonical" href="http://example.com/page/4/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><script>var GLOBAL_CONFIG = { 
  root: '/',
  hexoversion: '5.2.0',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  ClickShowText: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: true,
  isSidebar: false,
  postUpdate: '2020-10-15 16:02:53'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {
  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }

  const autoChangeMode = 'false'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }
})()</script><div class="aplayer" data-id="2693598459" data-server="netease" data-type="playlist" data-fixed="true" data-listFolded="false" data-order="random" data-preload="none"></div><link rel="stylesheet" href="https://cdn.bootcss.com/aplayer/1.10.1/APlayer.min.css"><script src="https://cdn.bootcss.com/aplayer/1.10.1/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/meting@1.2.0/dist/Meting.min.js"></script><meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="Ruby" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/null" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">40</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li><li><a class="site-page" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-diamond"></i><span> 生活</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/shuoshuo/"><i class="fa-fw fa fa-comments-o"></i><span> 说说</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-camera-retro"></i><span> 相册</span></a></li><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-video-camera"></i><span> 视频</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div></div></div><div id="body-wrap"><header class="full_page" id="page-header" style="background-image: url(/img/wall/4.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Ruby</a></span><span id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li><li><a class="site-page" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-diamond"></i><span> 生活</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/shuoshuo/"><i class="fa-fw fa fa-comments-o"></i><span> 说说</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-camera-retro"></i><span> 相册</span></a></li><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-video-camera"></i><span> 视频</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="site-info"><h1 id="site-title">Ruby</h1><div id="site-subtitle"><span id="subtitle"></span></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout_page" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/10/15/%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BD%93%E5%89%8D%E8%BF%9E%E6%8E%A5%E6%95%B0(session)%EF%BC%8C%E8%BF%9B%E7%A8%8B%E6%95%B0%EF%BC%8C%E4%BF%AE%E6%94%B9%E6%9C%80%E5%A4%A7%E8%BF%9E%E6%8E%A5%E6%95%B0%E7%AD%89%E6%93%8D%E4%BD%9C/" title="查询数据库当前连接数(session)，进程数，修改最大连接数等操作">     <img class="post_bg" src="/img/wall/8.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="查询数据库当前连接数(session)，进程数，修改最大连接数等操作"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/10/15/%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BD%93%E5%89%8D%E8%BF%9E%E6%8E%A5%E6%95%B0(session)%EF%BC%8C%E8%BF%9B%E7%A8%8B%E6%95%B0%EF%BC%8C%E4%BF%AE%E6%94%B9%E6%9C%80%E5%A4%A7%E8%BF%9E%E6%8E%A5%E6%95%B0%E7%AD%89%E6%93%8D%E4%BD%9C/" title="查询数据库当前连接数(session)，进程数，修改最大连接数等操作">查询数据库当前连接数(session)，进程数，修改最大连接数等操作</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-10-15T07:26:46.655Z" title="发表于 2020-10-15 15:26:46">2020-10-15</time></span></div><div class="content">
转载文章：如侵权，请联系博主，立马删除。谢谢

        
                
                    &nbsp; 
查询数据库当前连接数(session)，进程数等操作 
 &nbsp; 
查询当前数据库连接数，进程数，启动数据库 
查询数据库当前进程的连接数： 
　　select count(*) from v$process; 
　　查看数据库当前会话的连接数： 
　　elect count(*) from v$session; 
　　查看数据库的并发连接数： 
　　select count(*) from v$session where status='ACTIVE'; 
　　查看当前数据库建立的会话情况： 
　　select sid,serial#,username,program,machine,status from v$session; 
　 查询数据库允许的最大连接数： 
　　select value from v$parameter where name = 'processes'; 
或者：show parameter pr ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/10/15/%E8%AE%B0%E4%B8%80%E6%AC%A1%E9%AB%98%E5%B9%B6%E5%8F%91%E5%8E%8B%E6%B5%8B%E8%BF%87%E7%A8%8B%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E5%9D%91/" title="记一次高并发压测过程中遇到的坑">     <img class="post_bg" src="/img/wall/7.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="记一次高并发压测过程中遇到的坑"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/10/15/%E8%AE%B0%E4%B8%80%E6%AC%A1%E9%AB%98%E5%B9%B6%E5%8F%91%E5%8E%8B%E6%B5%8B%E8%BF%87%E7%A8%8B%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E5%9D%91/" title="记一次高并发压测过程中遇到的坑">记一次高并发压测过程中遇到的坑</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-10-15T07:26:46.654Z" title="发表于 2020-10-15 15:26:46">2020-10-15</time></span></div><div class="content">
背景测试在用jmeter进行压力测试，在并发量高的时候，先后出现的一系列问题。这里总结一下做个回顾环境：主机A：window 版本的 nginx主机B：Linux VMware2台虚拟机：虚拟机A：部署项目服务虚拟机B：Oracle，redis流程：nginx部署单结点服务在虚拟机A上面，通过jmeter进行压力测试。
排查问题思路：1.检查nginx错误日志（排查请求是否正常）2.检查后台日志（排查服务是否正常）3.根据错误提示解决问题4.监控后台cpu（防止压测系统崩了未察觉）
问题一：nginx突破1024限制在高并发的时候，遇到的第一个问题：请求一部分失败，一部分成功。1.jmeter报错5002.nginx error日志报错：nignx：maximum number of descriptors supported by select() is 1024 while connecting to upstream==解决方式：==
查阅记录的另一篇博客：nginx突破1024限制
问题二：connect refuse问题现象：报连接超时，考虑是否连接满了。1.检查yml配置 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/10/15/Spring%20boot%E6%BA%90%E7%A0%81%E6%B7%B1%E5%85%A5%E5%AD%A6%E4%B9%A0%EF%BC%88%E5%85%AD%EF%BC%89%20_%20%E5%AE%B9%E5%99%A8%E7%9A%84%E5%88%9B%E5%BB%BA%EF%BC%8C%E5%87%86%E5%A4%87%EF%BC%8C%E5%88%B7%E6%96%B0%EF%BC%8C%E5%90%AF%E5%8A%A8/" title="Spring boot源码深入学习（六） | 容器的创建，准备，刷新，启动">     <img class="post_bg" src="/img/wall/6.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring boot源码深入学习（六） | 容器的创建，准备，刷新，启动"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/10/15/Spring%20boot%E6%BA%90%E7%A0%81%E6%B7%B1%E5%85%A5%E5%AD%A6%E4%B9%A0%EF%BC%88%E5%85%AD%EF%BC%89%20_%20%E5%AE%B9%E5%99%A8%E7%9A%84%E5%88%9B%E5%BB%BA%EF%BC%8C%E5%87%86%E5%A4%87%EF%BC%8C%E5%88%B7%E6%96%B0%EF%BC%8C%E5%90%AF%E5%8A%A8/" title="Spring boot源码深入学习（六） | 容器的创建，准备，刷新，启动">Spring boot源码深入学习（六） | 容器的创建，准备，刷新，启动</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-10-15T07:26:46.652Z" title="发表于 2020-10-15 15:26:46">2020-10-15</time></span></div><div class="content">
回顾上一篇：Spring boot源码深入学习（五） | 准备环境时application配置文件的加载优先级学习了prepareEnvironment准备环境：1.初始化环境2.配置环境3.加载配置文件.通过ApplicationEnvironmentPreparedEvent事件发布，执行对应的监听器事件4.绑定环境到SpringApplication下面学习一下容器的创建，准备，刷新，启动。首先看一看核心run方法流程回顾一下：
123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566public ConfigurableApplicationContext run(String... args) &#123;	&#x2F;&#x2F; 实例化一个stopWatch，用于统计spring boot项目启动花费的时间	StopWatch stopWatch &#x3D; new StopWat ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/10/15/%E8%AE%B0%E4%B8%80%E6%AC%A1Oracle%E5%AE%9A%E6%97%B6%E5%99%A8%E8%B0%83%E7%94%A8%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E7%9A%84%E5%9D%91/" title="记一次Oracle定时器调用存储过程的坑">     <img class="post_bg" src="/img/wall/5.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="记一次Oracle定时器调用存储过程的坑"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/10/15/%E8%AE%B0%E4%B8%80%E6%AC%A1Oracle%E5%AE%9A%E6%97%B6%E5%99%A8%E8%B0%83%E7%94%A8%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E7%9A%84%E5%9D%91/" title="记一次Oracle定时器调用存储过程的坑">记一次Oracle定时器调用存储过程的坑</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-10-15T07:26:46.652Z" title="发表于 2020-10-15 15:26:46">2020-10-15</time></span></div><div class="content">
背景Oracle用scheduler写了一个定时器调用存储过程，每个月创建一次表。结果到定时器的执行时间了表却没有创建（预发布环境）。本地环境正常，模拟环境正常，开发环境正常，测试环境正常预发布环境异常没创建表（此时心中：万马奔腾，不得不提一句，docker真香）
排查问题刚发现这个问题的时候，一脸懵逼。特么本地环境，模拟环境，开发环境，测试环境都ok了，咋个预发布环境就出问题了？？带着一脸懵逼，还是默默打开了oracle，查看了下定时器
1select job_name,start_date,next_run_date,repeat_interval from user_scheduler_jobs;
一打开（由于预发布环境没有权限动，现在查不了异常环境的图。下图是正常情况的，这里展示一下字段。异常信息由下面写出。）：
==查询后第一映入眼帘的是，我设置定时器每个月28号 09:15:05执行一次。咋到点了还没有表创建，NEXT_RUN_DATE字段下一次执行时间也没有更新==
异常信息：
JOB_NAME：CREATE_TABLE_BY_MONTH
START_DATE：2020 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/10/15/Oracle%E8%A1%A8%E7%A9%BA%E9%97%B4%E6%BB%A1%E4%BA%86%E4%B9%8B%E5%A6%82%E4%BD%95%E6%89%A9%E5%AE%B9/" title="Oracle表空间满了之如何扩容">     <img class="post_bg" src="/img/wall/4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Oracle表空间满了之如何扩容"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/10/15/Oracle%E8%A1%A8%E7%A9%BA%E9%97%B4%E6%BB%A1%E4%BA%86%E4%B9%8B%E5%A6%82%E4%BD%95%E6%89%A9%E5%AE%B9/" title="Oracle表空间满了之如何扩容">Oracle表空间满了之如何扩容</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-10-15T07:26:46.651Z" title="发表于 2020-10-15 15:26:46">2020-10-15</time></span></div><div class="content">
背景预发布环境压力测试的时候，后台报错：ORA-01654: 索引 TSA.TS_TIME_0_2020_09 无法通过 1024 (在表空间 TSA 中) 扩展
定位问题==无法拓展，可猜测数据库表空间满了，导致无法继续存储数据==
查看数据量：查看dbf文件位置和大小：
1234SELECT T.TABLESPACE_NAME,D.FILE_NAME,D.AUTOEXTENSIBLE,D.BYTES,D.MAXBYTES,D.STATUS FROM DBA_TABLESPACES T,DBA_DATA_FILES D WHERE T.TABLESPACE_NAME &#x3D; D.TABLESPACE_NAME ORDER BY TABLESPACE_NAME,FILE_NAME; 

==由图可知，此表空间dbf文件已经达到32G上限（限制跟DB_BLOCK_SIZE有关，文末介绍）。因此需要扩容。==
扩容在 ‘/usr/oracle/oradata/tsa/‘ 目录新建 tsa2.dbf 文件用于存储新的数据。初始大小1024M，达到上限自动扩容50M
12ALTER T ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/10/15/%E6%95%B0%E5%AD%97%E7%AD%BE%E5%90%8D%EF%BC%8C%E6%95%B0%E5%AD%97%E8%AF%81%E4%B9%A6%EF%BC%8C%E8%AF%81%E4%B9%A6%E9%93%BE%E5%8E%9F%E7%90%86%EF%BC%88%E5%9B%BE%E6%96%87%E8%AF%A6%E8%A7%A3%EF%BC%89/" title="数字签名，数字证书，证书链原理（图文详解）">     <img class="post_bg" src="/img/wall/3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="数字签名，数字证书，证书链原理（图文详解）"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/10/15/%E6%95%B0%E5%AD%97%E7%AD%BE%E5%90%8D%EF%BC%8C%E6%95%B0%E5%AD%97%E8%AF%81%E4%B9%A6%EF%BC%8C%E8%AF%81%E4%B9%A6%E9%93%BE%E5%8E%9F%E7%90%86%EF%BC%88%E5%9B%BE%E6%96%87%E8%AF%A6%E8%A7%A3%EF%BC%89/" title="数字签名，数字证书，证书链原理（图文详解）">数字签名，数字证书，证书链原理（图文详解）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-10-15T07:26:46.650Z" title="发表于 2020-10-15 15:26:46">2020-10-15</time></span></div><div class="content">
数字签名，数字证书，加密简述数字签名：谈及数字签名，就如小时候老师叫把卷子或者作业带回去给家长签字。只不过数字签名非物理用笔签名，是通过计算机电子签名，这过程就涉及身份认证和信息加密。例如：卷子的成绩考个0分等信息是不希望被其他人知道的就需要加密（信息加密）；家长对卷子签字，需要对卷子作实名认证，证实确实是自己孩子而非他人的卷子（身份认证）。数字证书：数字证书是用来认证公钥持有者身份合法性的电子文档，以防止第三方冒充行为。由CA证书授权中心颁发。加密：顾名思义，就是对数据通过一些算法进行数据加密对称加密算法: 加密和解密的密钥使用的是同一个，如DES,3DES,AES非对称加密算法: 与对称加密算法不同，非对称加密算法需要两个密钥：公开密钥和私有密钥。A对B通信，A对数据用A的私钥加密，B就可以用A的公钥进行解密得到原数据。如RSA,DSA,ECC业务场景：签合同，以前签合同都是纸质的合同，然后用笔签。这种方式需要线下面对面签署，实在不方便，因此数字签名的优势就逐渐体现出来。
数字签名原理A对B数字签名通信流程1.A先用Hash函数，对通信data生成通信data的摘要（digest ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/10/15/springboot%E4%B8%AD@Validated+@ControllerAdvice+@ExceptionHandler%E6%B3%A8%E8%A7%A3%E5%AF%B9%E5%85%A8%E5%B1%80%E5%BC%82%E5%B8%B8%E7%9A%84%E5%A4%84%E7%90%86/" title="springboot中@Validated+@ControllerAdvice+@ExceptionHandler注解对全局异常的处理">     <img class="post_bg" src="/img/wall/2.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="springboot中@Validated+@ControllerAdvice+@ExceptionHandler注解对全局异常的处理"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/10/15/springboot%E4%B8%AD@Validated+@ControllerAdvice+@ExceptionHandler%E6%B3%A8%E8%A7%A3%E5%AF%B9%E5%85%A8%E5%B1%80%E5%BC%82%E5%B8%B8%E7%9A%84%E5%A4%84%E7%90%86/" title="springboot中@Validated+@ControllerAdvice+@ExceptionHandler注解对全局异常的处理">springboot中@Validated+@ControllerAdvice+@ExceptionHandler注解对全局异常的处理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-10-15T07:26:46.650Z" title="发表于 2020-10-15 15:26:46">2020-10-15</time></span></div><div class="content">
前言为了解决什么问题：1.前端传入大量繁琐数据需要校验，会产生大量 if else语句以及try catch语句导致代码冗杂，不美观。用@Validated注解可以很好的解决。它根据实体类配置的校验规则在进入controller接口的时候就会自动校验参数。2.controller中每一个接口请求都要对异常进行处理，若接口不断增多，不同的异常也会不断增多，会导致异常太过紊乱，不好维护且不好拓展。因此用@ControllerAdvice+@ExceptionHandler对异常做统一处理。
正文为了更方便的理解，这里采用demo，提供登录和注册2个接口的方式给大家阐述。1.编写登录实体类UserLoginReq和注册实体类UserRegisterReq(这里@Getter@Sette注解用的lombok插件可以省去写get，set方法)@NotEmpty注解校验是否为空@Size校验字符串的长度@Pattern正则表达式校验字符串UserLoginReq：
12345678910@Getter@Setterpublic class UserLoginReq &#123;    @NotE ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/10/15/Oracle%E5%88%86%E8%A1%A8%E5%88%86%E5%8C%BA%E5%AE%9E%E6%88%98%EF%BC%88%E5%90%AB%E7%B4%A2%E5%BC%95%EF%BC%8C%E6%A3%80%E6%9F%A5%E5%A4%84%E7%90%86%EF%BC%89/" title="Oracle分表分区实战（含索引，检查处理）">     <img class="post_bg" src="/img/wall/1.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Oracle分表分区实战（含索引，检查处理）"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/10/15/Oracle%E5%88%86%E8%A1%A8%E5%88%86%E5%8C%BA%E5%AE%9E%E6%88%98%EF%BC%88%E5%90%AB%E7%B4%A2%E5%BC%95%EF%BC%8C%E6%A3%80%E6%9F%A5%E5%A4%84%E7%90%86%EF%BC%89/" title="Oracle分表分区实战（含索引，检查处理）">Oracle分表分区实战（含索引，检查处理）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-10-15T07:26:46.649Z" title="发表于 2020-10-15 15:26:46">2020-10-15</time></span></div><div class="content">
背景业务需要，未来会对线上环境的一张表每月存储2000w+**的数据。一年就达到上亿级**？？数据量其大可想而知，然而这张表又是单库单表存储，这样的方式肯定是不足以支撑千万甚至上亿万级的数据，大数据量的表还会导致查询随着数据量的增大而不断性能变低，甚至会导致数据库宕机。那么如何处理上千万级，甚至上亿级的数据呢？采用的是分表分区的方式（还可以分库）。遂写次博客记录一下。
前言公司用的是Oracle数据库，那么Oracle数据库是怎样的存储结构呢？？里面用户，表，表空间，dbf文件的关系又是怎样的呢？？这里有必要先了解一下，便以后续理解。如已明白可跳过。如下图所示：
表，表空间，dbf文件的关系表空间：存储数据的仓库1.一个Oracle实例对应一个或者多个表空间2.一个表空间存在一个或者多个dbf文件存储数据3.一个表空间存储一张或者多张表数据分区：分区就是指定表在不同的表空间存储数据，即在不同的dbf文件存储。(一个dbf文件存储的数据量有上限)
用户与表，表空间的关系1.一个用户可以有多张表，一张表只属于一个用户。但可以存储在多个表空间2.表空间不属于任何用户，只能说一个用户对应着哪 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/10/13/Spring%E4%B8%8ESpringMvc%E4%B9%8B%E7%88%B6%E5%AD%90%E5%AE%B9%E5%99%A8/" title="Spring与SpringMvc之父子容器">     <img class="post_bg" src="/img/wall/4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring与SpringMvc之父子容器"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/10/13/Spring%E4%B8%8ESpringMvc%E4%B9%8B%E7%88%B6%E5%AD%90%E5%AE%B9%E5%99%A8/" title="Spring与SpringMvc之父子容器">Spring与SpringMvc之父子容器</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-10-13T09:21:15.617Z" title="发表于 2020-10-13 17:21:15">2020-10-13</time></span></div><div class="content">
springweb项目配置文件由图可见，springweb项目中创建了2个WebApplicationContext，分别是spring创建的容器applicationContext.xml和springmvc创建的dispatcher-servlet.xml。作用：springmvc&nbsp;&nbsp;&nbsp;dispatcher-servlet.xml：在MVC三层模型中的controller控制层中，与视图解析器ViewReslover，HandlerMapping处理器映射器等打交道，用于前后端交互spring&nbsp;&nbsp;&nbsp;applicationContext.xml：在MVC三层模型中的service业务层和Dao持久层中，管理bean的注入以及bean所相关依赖对象的注入
父子容器介绍springmvc初始化容器的时候会在这个容器指定一个父容器，也就是spring创建的容器。父子容器特点：

1.父容器和子容器是相互隔离的，他们内部可以存在名称相同的bean2.子容器可以访问父容器中的bean，而父容器不能访问子容器中的bean3.调用子容器 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/10/13/hello-world/" title="Hello World">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hello World"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/10/13/hello-world/" title="Hello World">Hello World</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-10-13T06:19:31.107Z" title="发表于 2020-10-13 14:19:31">2020-10-13</time></span></div><div class="content">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.
Quick StartCreate a new post1$ hexo new &quot;My New Post&quot;

More info: Writing
Run server1$ hexo server

More info: Server
Generate static files1$ hexo generate

More info: Generating
Deploy to remote sites1$ hexo deploy

More info: Deployment
</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/3/"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span></div></nav></div><div class="aside_content" id="aside_content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><img class="avatar-img" src="/null" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">陶成彬</div><div class="author-info__description">兴趣是最好的老师</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length_num">40</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/taochengbin"><i class="fab fa-github"></i><span>Follow Me</span></a></div></div><div class="sticky_layout"><div class="card-widget card-announcement"><div class="card-content"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div></div><div class="card-widget card-recent-post"><div class="card-content"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2020/10/15/VMware%E8%A3%85Centos7%E8%99%9A%E6%8B%9F%E6%9C%BA%E8%B6%85%E8%AF%A6%E7%BB%86%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4%EF%BC%8C%E4%BB%A5%E5%8F%8A%E9%85%8D%E7%BD%AE%E7%BD%91%E7%BB%9Cping%E9%80%9A%E5%A4%96%E7%BD%91/" title="VMware装Centos7虚拟机超详细安装步骤，以及配置网络ping通外网"><img src="/img/wall/38.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="VMware装Centos7虚拟机超详细安装步骤，以及配置网络ping通外网"/></a><div class="content"><a class="title" href="/2020/10/15/VMware%E8%A3%85Centos7%E8%99%9A%E6%8B%9F%E6%9C%BA%E8%B6%85%E8%AF%A6%E7%BB%86%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4%EF%BC%8C%E4%BB%A5%E5%8F%8A%E9%85%8D%E7%BD%AE%E7%BD%91%E7%BB%9Cping%E9%80%9A%E5%A4%96%E7%BD%91/" title="VMware装Centos7虚拟机超详细安装步骤，以及配置网络ping通外网">VMware装Centos7虚拟机超详细安装步骤，以及配置网络ping通外网</a><time datetime="2020-10-15T07:26:46.679Z" title="发表于 2020-10-15 15:26:46">2020-10-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/10/15/Maven%E6%89%93%E5%8C%85%E9%94%99%E8%AF%AF%EF%BC%9AExecution%20default%20of%20goal%20org.springframew%20ork.boot_spring-boot-maven-plugin_2.1.8.RELEASE/" title="Maven打包错误：Execution default of goal org.springframew ork.boot_spring-boot-maven-plugin_2.1.8.RELEASE"><img src="/img/wall/37.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Maven打包错误：Execution default of goal org.springframew ork.boot_spring-boot-maven-plugin_2.1.8.RELEASE"/></a><div class="content"><a class="title" href="/2020/10/15/Maven%E6%89%93%E5%8C%85%E9%94%99%E8%AF%AF%EF%BC%9AExecution%20default%20of%20goal%20org.springframew%20ork.boot_spring-boot-maven-plugin_2.1.8.RELEASE/" title="Maven打包错误：Execution default of goal org.springframew ork.boot_spring-boot-maven-plugin_2.1.8.RELEASE">Maven打包错误：Execution default of goal org.springframew ork.boot_spring-boot-maven-plugin_2.1.8.RELEASE</a><time datetime="2020-10-15T07:26:46.678Z" title="发表于 2020-10-15 15:26:46">2020-10-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/10/15/Maven%E7%BC%96%E6%8A%A5%E9%94%99%EF%BC%9ANo%20compiler%20is%20provided%20in%20this%20environment.%20Perhaps%20you%20are%20running%20on%20a%20JRE%20rather%20a%20JDK_/" title="Maven编报错：No compiler is provided in this environment. Perhaps you are running on a JRE rather a JDK_"><img src="/img/wall/36.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Maven编报错：No compiler is provided in this environment. Perhaps you are running on a JRE rather a JDK_"/></a><div class="content"><a class="title" href="/2020/10/15/Maven%E7%BC%96%E6%8A%A5%E9%94%99%EF%BC%9ANo%20compiler%20is%20provided%20in%20this%20environment.%20Perhaps%20you%20are%20running%20on%20a%20JRE%20rather%20a%20JDK_/" title="Maven编报错：No compiler is provided in this environment. Perhaps you are running on a JRE rather a JDK_">Maven编报错：No compiler is provided in this environment. Perhaps you are running on a JRE rather a JDK_</a><time datetime="2020-10-15T07:26:46.676Z" title="发表于 2020-10-15 15:26:46">2020-10-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/10/15/Maven%E5%BC%95%E5%85%A5%E7%AC%AC%E4%B8%89%E6%96%B9jar%E5%8C%85%EF%BC%8C%E6%9C%AC%E5%9C%B0%E5%BC%95%E5%85%A5SDK%E5%8C%85/" title="Maven引入第三方jar包，本地引入SDK包"><img src="/img/wall/35.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Maven引入第三方jar包，本地引入SDK包"/></a><div class="content"><a class="title" href="/2020/10/15/Maven%E5%BC%95%E5%85%A5%E7%AC%AC%E4%B8%89%E6%96%B9jar%E5%8C%85%EF%BC%8C%E6%9C%AC%E5%9C%B0%E5%BC%95%E5%85%A5SDK%E5%8C%85/" title="Maven引入第三方jar包，本地引入SDK包">Maven引入第三方jar包，本地引入SDK包</a><time datetime="2020-10-15T07:26:46.674Z" title="发表于 2020-10-15 15:26:46">2020-10-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/10/15/JDK%E6%BA%90%E7%A0%81%E6%B7%B1%E5%85%A5%E5%AD%A6%E4%B9%A0%E4%B9%8BArrayList/" title="JDK源码深入学习之ArrayList"><img src="/img/wall/34.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JDK源码深入学习之ArrayList"/></a><div class="content"><a class="title" href="/2020/10/15/JDK%E6%BA%90%E7%A0%81%E6%B7%B1%E5%85%A5%E5%AD%A6%E4%B9%A0%E4%B9%8BArrayList/" title="JDK源码深入学习之ArrayList">JDK源码深入学习之ArrayList</a><time datetime="2020-10-15T07:26:46.673Z" title="发表于 2020-10-15 15:26:46">2020-10-15</time></div></div></div></div></div><div class="card-widget" id="card-newest-comments"><div class="card-content"><div class="item-headline"><i class="fas fa-bolt"></i><span>最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="card-widget card-archives"><div class="card-content"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/10/"><span class="card-archive-list-date">十月 2020</span><span class="card-archive-list-count">40</span></a></li></ul></div></div><div class="card-widget card-webinfo"><div class="card-content"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">40</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2020-10-15T08:02:53.660Z"></div></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/img/wall/4.jpg)"><div id="footer-wrap"><div class="copyright">&copy;2020 By 陶成彬</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><section id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></section><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',()=> {preloader.endLoading()})</script><div class="js-pjax"><script>function subtitleType () {
  if (true) { 
    var typed = new Typed("#subtitle", {
      strings: "今日事&#44;今日畢,Never put off till tomorrow what you can do today".split(","),
      startDelay: 300,
      typeSpeed: 150,
      loop: false,
      backSpeed: 50
    })
  } else {
    document.getElementById("subtitle").innerHTML = '今日事&#44;今日畢'
  }
}

if (true) {
  if (typeof Typed === 'function') subtitleType()
  else $.getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js', subtitleType)
} else {
  subtitleType()
}</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-nest.min.js"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-heart.min.js" async="async" mobile="true"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/haruto.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>